########################################################
#
# List substitution in bodies
#
########################################################

body common control

{
bundlesequence  => { "testbundle"  };
}

########################################################

bundle agent testbundle

{
vars:

 "usernames" slist => { "one", "two", "three" };

files:

  "/home/mark/tmp/test_plain" 

       perms => users("@(usernames)"),
       create => "true";

}

#########################################################

body perms users(x)

{
mode  => "0640";
owners => { @(x) };
}
